<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Disable &#34;Mouse battery low&#34; spam notification on Ubuntu | wrgms.com</title>
<meta name="keywords" content="">
<meta name="description" content="I use a Logitech Performance MX wireless mouse, on Ubuntu 18.10 (Cosmic Cuttlefish), with Gnome 3.30.2 Ubuntu 20.04, with Gnome 3.36.2.
This mouse uses regular 1.2V AA NiMH rechargeable battery1, which usually lasts 3 months on a single charge
The problem is that Ubuntu&rsquo;s power system tries to detect how much voltage is left, and either the voltage sensors or the calculation algorithm is completely broken, so it starts to show notifications 6-8 weeks before it really runs out.">
<meta name="author" content="Gui Ambros">
<link rel="canonical" href="https://wrgms.com/disable-mouse-battery-low-spam-notification/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.67171b120c51fb25f1a2b5f4a8eac05f924715aabe8693ed6ee8d17ce2425279.css" integrity="sha256-ZxcbEgxR&#43;yXxorX0qOrAX5JHFaq&#43;hpPtbujRfOJCUnk=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://wrgms.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://wrgms.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://wrgms.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://wrgms.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://wrgms.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://wrgms.com/disable-mouse-battery-low-spam-notification/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://wrgms.com/disable-mouse-battery-low-spam-notification/">
  <meta property="og:site_name" content="wrgms.com">
  <meta property="og:title" content="Disable &#34;Mouse battery low&#34; spam notification on Ubuntu">
  <meta property="og:description" content="I use a Logitech Performance MX wireless mouse, on Ubuntu 18.10 (Cosmic Cuttlefish), with Gnome 3.30.2 Ubuntu 20.04, with Gnome 3.36.2.
This mouse uses regular 1.2V AA NiMH rechargeable battery1, which usually lasts 3 months on a single charge
The problem is that Ubuntu’s power system tries to detect how much voltage is left, and either the voltage sensors or the calculation algorithm is completely broken, so it starts to show notifications 6-8 weeks before it really runs out.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-06-02T23:47:42+00:00">
    <meta property="article:modified_time" content="2019-06-02T23:47:42+00:00">
      <meta property="og:image" content="https://wrgms.com/images/cover.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://wrgms.com/images/cover.jpg">
<meta name="twitter:title" content="Disable &#34;Mouse battery low&#34; spam notification on Ubuntu">
<meta name="twitter:description" content="I use a Logitech Performance MX wireless mouse, on Ubuntu 18.10 (Cosmic Cuttlefish), with Gnome 3.30.2 Ubuntu 20.04, with Gnome 3.36.2.
This mouse uses regular 1.2V AA NiMH rechargeable battery1, which usually lasts 3 months on a single charge
The problem is that Ubuntu&rsquo;s power system tries to detect how much voltage is left, and either the voltage sensors or the calculation algorithm is completely broken, so it starts to show notifications 6-8 weeks before it really runs out.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://wrgms.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Disable \"Mouse battery low\" spam notification on Ubuntu",
      "item": "https://wrgms.com/disable-mouse-battery-low-spam-notification/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Disable \"Mouse battery low\" spam notification on Ubuntu",
  "name": "Disable \u0022Mouse battery low\u0022 spam notification on Ubuntu",
  "description": "I use a Logitech Performance MX wireless mouse, on Ubuntu 18.10 (Cosmic Cuttlefish), with Gnome 3.30.2 Ubuntu 20.04, with Gnome 3.36.2.\nThis mouse uses regular 1.2V AA NiMH rechargeable battery1, which usually lasts 3 months on a single charge\nThe problem is that Ubuntu\u0026rsquo;s power system tries to detect how much voltage is left, and either the voltage sensors or the calculation algorithm is completely broken, so it starts to show notifications 6-8 weeks before it really runs out.\n",
  "keywords": [
    
  ],
  "articleBody": "I use a Logitech Performance MX wireless mouse, on Ubuntu 18.10 (Cosmic Cuttlefish), with Gnome 3.30.2 Ubuntu 20.04, with Gnome 3.36.2.\nThis mouse uses regular 1.2V AA NiMH rechargeable battery1, which usually lasts 3 months on a single charge\nThe problem is that Ubuntu’s power system tries to detect how much voltage is left, and either the voltage sensors or the calculation algorithm is completely broken, so it starts to show notifications 6-8 weeks before it really runs out.\nThe worse part is that these notifications won’t fade away after a few seconds like you’d expect. And to make it more infuriating, they have an audible alert, and show up after a every period of brief inactivity, which means you’ll get dozens of notifications per day – and you’ll will need to click to dismiss them every single time.\nI don’t really need to be notified two months in advance on a mouse battery (or at all). When it runs out, I can just connect the cable. It’s not like a printer, that you need to buy ink in advance.\nIt seems I’m not alone: tons of users have reported the same problem for years (1, or 2, or 3), but no solution.\nIt seems that upower developers recognize that the battery % should be ignored, but still emits warnings on low battery, and Gnome Settings Daemon doesn’t offer any way to selectively disable or control these notifications:\n$ upower --dump Device: /org/freedesktop/UPower/devices/mouse_hidpp_battery_12 native-path: hidpp_battery_12 model: Performance MX serial: 104a-8a-10-ee-9b power supply: no updated: Sun Jun 2 18:09:54 2019 (15 seconds ago) has history: yes has statistics: yes mouse present: yes rechargeable: yes state: discharging warning-level: none battery-level: critical percentage: 5% (should be ignored) ◀◀◀ icon-name: 'battery-caution-symbolic' Most of the workarounds I found involve patching gnome-settings-daemon (which I’ve done before, but for different reasons), or disabling power notifications entirely. I dislike both solutions, and wanted to selectively disable only mouse battery notifications, without touching anything else.\nThanks to a tip by @daFritz84, I decided to patch upowerd directly (although I used a different method than Stefan). The good news is that upower has few dependencies, so it’s pretty straightforward to compile and patch your system.\nHere’s the patch to be applied over up-device.c:\n--- up-device.c\t2019-06-15 00:18:57.607554731 -0400 +++ up-device-silent.c\t2019-06-15 00:19:03.207705276 -0400 @@ -63,6 +63,15 @@ UpDeviceLevel warning_level, battery_level; UpExportedDevice *skeleton = UP_EXPORTED_DEVICE (device); +\t/* Disable warning notifications for wireless mice with rechargeable batteries */ +\tint type = up_exported_device_get_type_ (skeleton); +\tint state = up_exported_device_get_state(skeleton); +\tif (type == UP_DEVICE_KIND_MOUSE \u0026\u0026 state == UP_DEVICE_STATE_DISCHARGING) { +\twarning_level = UP_DEVICE_LEVEL_NONE; +\tup_exported_device_set_warning_level (skeleton, warning_level); +\treturn; +\t} + /* Not finished setting up the object? */ if (device-\u003epriv-\u003edaemon == NULL) return; (Update 2021-07: the latest upower 0.99.12 changed structured slightly, so you need to use the updated patch)\nHere’s the step-by-step, tested on Ubuntu 18.04, 20.04, 20.10, 21.04, and Manjaro (disclaimer: provided as is; you are responsible for checking the accuracy of the patch and ensure it won’t ruin your system. Having said that, let me know in the comments below if it doesn’t work for you, and I’ll try to incorporate new distributions over time):\n#!/bin/bash set -e # See https://wrgms.com/disable-mouse-battery-low-spam-notification/ # for instructions on how to use it # # TL;DR: run with \"--keyboard\" if you want to patch upower to ignore both # mice and keyboard notifications (by default it ignores only mice) # Check distro and upower version in use, and install required libraries # echo echo \"------------------------------\" upower --version echo \"------------------------------\" echo UPOWER_ORIG_VER=`upower --version` OS=`awk -F= '/^ID=/{print $2}' /etc/os-release` OS_VER=`awk -F= '/^VERSION_ID=/{print $2}' /etc/os-release | cut -d \"\\\"\" -f 2` OS_VER_MAJOR=`echo ${OS_VER} | awk -F. '{print $1}'` PATCH_LEGACY_URL=\"https://gist.githubusercontent.com/guiambros/f2bf07f1cc085f8f0b0a9e04c0a767b4/raw/73efac967c8fc9539802e7aa8eeba5492f8ae3b1/up-device-legacy.patch\" PATCH_CURRENT_URL=\"https://gist.githubusercontent.com/guiambros/f2bf07f1cc085f8f0b0a9e04c0a767b4/raw/73efac967c8fc9539802e7aa8eeba5492f8ae3b1/up-device-current-0.99.12p.patch\" PATCH_NAME=\"up-device.patch\" PATCH_URL=${PATCH_CURRENT_URL} if [ \"$OS\" == \"manjaro\" ] then echo \"-- Manjaro detected; installing required libraries\" sudo pacman -S base-devel gtk-doc gobject-introspection git PATH_UPOWERD=\"/usr/lib\" PATH_UPOWER=\"/usr/bin\" elif [ \"$OS\" == \"ubuntu\" ] then echo \"-- Ubuntu detected; installing required libraries\" sudo apt install -y git gtk-doc-tools gobject-introspection libgudev-1.0-dev libusb-1.0-0-dev autoconf libtool autopoint PATH_UPOWER=\"/usr/bin\" if [ \"${OS_VER}\" == \"20.10\" ] then echo \"--- Ubuntu version 20.10 (Groovy Gorilla) detected\" PATH_UPOWERD=\"/usr/libexec\" UPOWER_BRANCH=\"UPOWER_0_99_11\" PATCH_URL=${PATCH_LEGACY_URL} elif [ ${OS_VER_MAJOR} -ge 21 ] then echo \"--- Ubuntu version 21 or above detected\" PATH_UPOWERD=\"/usr/libexec\" UPOWER_BRANCH=\"UPOWER_0_99_11\" PATCH_URL=${PATCH_LEGACY_URL} elif [ ${OS_VER_MAJOR} -le 20 ] then echo \"--- Ubuntu version 20.04 or lower detected\" PATH_UPOWERD=\"/usr/lib/upower\" UPOWER_BRANCH=\"UPOWER_0_99_11\" PATCH_URL=${PATCH_LEGACY_URL} fi else echo \"-- Unknown system; this script was only tested on ubuntu and manjaro.\" exit 1 fi echo \"------------------------------\" echo # Download upowerd source and selects the proper branch # cd ~ git clone https://gitlab.freedesktop.org/upower/upower if [ -z ${UPOWER_BRANCH} ] then echo \"-- Using latest master branch (0.99.12 or above)\" cd upower/src else echo \"-- Using branch ${UPOWER_BRANCH} (latest compatible with your distro)\" cd upower git fetch --all --tags git checkout tags/${UPOWER_BRANCH} -b ${UPOWER_BRANCH} cd src fi # Download and patch upowerd # wget ${PATCH_URL} -O ${PATCH_NAME} if [ \"$1\" == \"-keyboard\" ] || [ \"$1\" == \"--keyboard\" ]; then SILENCE_KEYBOARD=\"+ if ((type == UP_DEVICE_KIND_MOUSE || type == UP_DEVICE_KIND_KEYBOARD) \u0026\u0026 state == UP_DEVICE_STATE_DISCHARGING) {\" sed -i \"/UP_DEVICE_KIND_MOUSE/c${SILENCE_KEYBOARD}\" ${PATCH_NAME} fi patch -F 1 \u003c ${PATCH_NAME} # Compile upowerd # cd .. ./autogen.sh ./configure make # Install upowerd # CUR_DATETIME=`date +%Y-%m-%d-%H%M%S` pushd . cd src/.libs strip upowerd sudo chown root.root upowerd sudo mv upowerd ${PATH_UPOWERD}/upowerd-silent cd ${PATH_UPOWERD} sudo mv upowerd upowerd-original-${CUR_DATETIME} sudo ln -s upowerd-silent upowerd popd # Install upower # pushd . cd tools/.libs strip upower sudo chown root.root upower sudo mv upower ${PATH_UPOWER}/upower-silent cd ${PATH_UPOWER} sudo mv upower upower-original-${CUR_DATETIME} sudo ln -s upower-silent upower popd # Restart upowerd # sudo systemctl restart upower # Compare versions before/after (they will likely be different, but it depends on what your distro packages by default) # echo echo \"------------------------------\" echo \"upower version BEFORE the update:\" echo \"${UPOWER_ORIG_VER}\" echo \"------------------------------\" echo \"upower version AFTER the update:\" upower --version For convenience, here’s the script. You can run with:\nwget -O - https://gist.githubusercontent.com/guiambros/166039459a8579638b57f7d135505ab1/raw/733b8dd3ac3280bb76f48ba3dc04655df6d69025/silent-mouse.sh | bash UPDATE: by default this disables mouse notifications only. If you want to disable keyboard notifications as well, run the script above passing --keyboard as a parameter. More specifically:\nwget -O - https://gist.githubusercontent.com/guiambros/166039459a8579638b57f7d135505ab1/raw/733b8dd3ac3280bb76f48ba3dc04655df6d69025/silent-mouse.sh | bash -s -- --keyboard Now enjoy your low battery spam-free system :) Let me know in the comments below if it works for you.\n1My old Performance MX uses a replaceable battery; the Performance MX 3 uses an internal non-replaceable battery that lasts even longer\n",
  "wordCount" : "1061",
  "inLanguage": "en",
  "image": "https://wrgms.com/images/cover.jpg","datePublished": "2019-06-02T23:47:42Z",
  "dateModified": "2019-06-02T23:47:42Z",
  "author":{
    "@type": "Person",
    "name": "Gui Ambros"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://wrgms.com/disable-mouse-battery-low-spam-notification/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "wrgms.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://wrgms.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top"> 
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>




<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://wrgms.com/" accesskey="h" title="wrgms.com (Alt + H)">wrgms.com</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>



<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Disable &#34;Mouse battery low&#34; spam notification on Ubuntu
    </h1>
    <div class="post-meta"><span title='2019-06-02 23:47:42 +0000 UTC' style='color: var(--post-date-color);'>June 2, 2019</span>

</div>
  </header> 
  <div class="post-content"><p>I use a Logitech Performance MX wireless mouse, on <del>Ubuntu 18.10 (<em>Cosmic Cuttlefish</em>), with Gnome 3.30.2</del> Ubuntu 20.04, with Gnome 3.36.2.</p>
<p>This mouse uses regular 1.2V AA NiMH rechargeable battery<sup>1</sup>, which usually lasts 3 months on a single charge</p>
<p>The problem is that Ubuntu&rsquo;s power system tries to detect how much voltage is left, and either the voltage sensors or the calculation algorithm is completely broken, so it starts to show notifications 6-8 <em>weeks</em> before it really runs out.</p>
<p><img loading="lazy" src="/content/images/2019/06/upowerd.png"></p>
<p>The worse part is that these notifications won&rsquo;t fade away after a few seconds like you&rsquo;d expect. And to make it more infuriating, they have an audible alert, and show up after a every period of brief inactivity, which means you&rsquo;ll get dozens of notifications per day &ndash; and you&rsquo;ll will need to click to dismiss them every single time.</p>
<p>I don&rsquo;t really need to be notified two months in advance on a <em>mouse battery</em> (or at all). When it runs out, I can just connect the cable. It&rsquo;s not like a printer, that you need to buy ink in advance.</p>
<p>It seems I&rsquo;m not alone: tons of users have reported the same problem for years (<a href="https://askubuntu.com/questions/985963/disable-mouse-battery-low-spam-notification">1</a>, or <a href="https://ubuntuforums.org/showthread.php?t=2395380">2</a>, or <a href="https://bugs.launchpad.net/ubuntu/+source/gnome-settings-daemon/+bug/1798166">3</a>), but no solution.</p>
<p>It seems that <code>upower</code> developers recognize that the battery % should be ignored, but still emits warnings on low battery, and Gnome Settings Daemon doesn&rsquo;t offer any way to selectively disable or control these notifications:</p>
<pre tabindex="0"><code>$ upower --dump
Device: /org/freedesktop/UPower/devices/mouse_hidpp_battery_12
  native-path:          hidpp_battery_12
  model:                Performance MX
  serial:               104a-8a-10-ee-9b
  power supply:         no
  updated:              Sun Jun  2 18:09:54 2019 (15 seconds ago)
  has history:          yes
  has statistics:       yes
  mouse
    present:             yes
    rechargeable:        yes
    state:               discharging
    warning-level:       none
    battery-level:       critical
    percentage:          5% (should be ignored) ◀◀◀
    icon-name:          &#39;battery-caution-symbolic&#39;
</code></pre><p>Most of the workarounds I found involve patching gnome-settings-daemon (which I&rsquo;ve done before, but for <a href="https://wrgms.com/fixing-gnome-3-2x-hardcoded-superf1-shortcut/">different reasons</a>), or disabling power notifications entirely. I dislike both solutions, and wanted to selectively disable only mouse battery notifications, without touching anything else.</p>
<p>Thanks to a tip by <a href="https://gitlab.gnome.org/GNOME/gnome-settings-daemon/issues/108#note_371478">@daFritz84</a>, I decided to patch <code>upowerd</code> directly (although I used a different method than Stefan). The good news is that upower has few dependencies, so it&rsquo;s pretty straightforward to compile and patch your system.</p>
<p>Here&rsquo;s the <a href="https://gist.github.com/guiambros/f2bf07f1cc085f8f0b0a9e04c0a767b4">patch</a> to be applied over <a href="https://gitlab.freedesktop.org/upower/upower/blob/master/src/up-device.c#L61">up-device.c</a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#f92672">---</span> up<span style="color:#f92672">-</span>device.c	<span style="color:#ae81ff">2019</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span><span style="color:#f92672">-</span><span style="color:#ae81ff">15</span> <span style="color:#ae81ff">00</span><span style="color:#f92672">:</span><span style="color:#ae81ff">18</span><span style="color:#f92672">:</span><span style="color:#ae81ff">57.607554731</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0400</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">+++</span> up<span style="color:#f92672">-</span>device<span style="color:#f92672">-</span>silent.c	<span style="color:#ae81ff">2019</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span><span style="color:#f92672">-</span><span style="color:#ae81ff">15</span> <span style="color:#ae81ff">00</span><span style="color:#f92672">:</span><span style="color:#ae81ff">19</span><span style="color:#f92672">:</span><span style="color:#ae81ff">03.207705276</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0400</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">@@</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">63</span>,<span style="color:#ae81ff">6</span> <span style="color:#f92672">+</span><span style="color:#ae81ff">63</span>,<span style="color:#ae81ff">15</span> <span style="color:#960050;background-color:#1e0010">@@</span>
</span></span><span style="display:flex;"><span> 	UpDeviceLevel warning_level, battery_level;
</span></span><span style="display:flex;"><span> 	UpExportedDevice <span style="color:#f92672">*</span>skeleton <span style="color:#f92672">=</span> <span style="color:#a6e22e">UP_EXPORTED_DEVICE</span> (device);
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span>	<span style="color:#75715e">/* Disable warning notifications for wireless mice with rechargeable batteries */</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span>	<span style="color:#66d9ef">int</span> type <span style="color:#f92672">=</span> <span style="color:#a6e22e">up_exported_device_get_type_</span> (skeleton);
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span>	<span style="color:#66d9ef">int</span> state <span style="color:#f92672">=</span> <span style="color:#a6e22e">up_exported_device_get_state</span>(skeleton);
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span>	<span style="color:#66d9ef">if</span> (type <span style="color:#f92672">==</span> UP_DEVICE_KIND_MOUSE <span style="color:#f92672">&amp;&amp;</span> state <span style="color:#f92672">==</span> UP_DEVICE_STATE_DISCHARGING) {
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span>		warning_level <span style="color:#f92672">=</span> UP_DEVICE_LEVEL_NONE;
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span>		<span style="color:#a6e22e">up_exported_device_set_warning_level</span> (skeleton, warning_level);
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span>		<span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span>	}
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span> 	<span style="color:#75715e">/* Not finished setting up the object? */</span>
</span></span><span style="display:flex;"><span> 	<span style="color:#66d9ef">if</span> (device<span style="color:#f92672">-&gt;</span>priv<span style="color:#f92672">-&gt;</span>daemon <span style="color:#f92672">==</span> NULL)
</span></span><span style="display:flex;"><span> 		<span style="color:#66d9ef">return</span>;
</span></span></code></pre></div><p><em>(Update 2021-07: the latest upower 0.99.12 changed structured slightly, so you need to use the updated <a href="https://gist.githubusercontent.com/guiambros/f2bf07f1cc085f8f0b0a9e04c0a767b4/raw/73efac967c8fc9539802e7aa8eeba5492f8ae3b1/up-device-current-0.99.12p.patch">patch</a>)</em></p>
<p>Here&rsquo;s the step-by-step, tested on Ubuntu 18.04, 20.04, 20.10, 21.04, and Manjaro (<em>disclaimer: provided as is; you are responsible for checking the accuracy of the patch and ensure it won&rsquo;t ruin your system. Having said that, let me know in the comments below if it doesn&rsquo;t work for you, and I&rsquo;ll try to incorporate new distributions over time</em>):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>set -e
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># See https://wrgms.com/disable-mouse-battery-low-spam-notification/</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># for instructions on how to use it</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># TL;DR: run with &#34;--keyboard&#34; if you want to patch upower to ignore both</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># mice and keyboard notifications (by default it ignores only mice)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Check distro and upower version in use, and install required libraries</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>echo
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;------------------------------&#34;</span>
</span></span><span style="display:flex;"><span>upower --version
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;------------------------------&#34;</span>
</span></span><span style="display:flex;"><span>echo
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>UPOWER_ORIG_VER<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>upower --version<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>OS<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>awk -F<span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;/^ID=/{print $2}&#39;</span> /etc/os-release<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>OS_VER<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>awk -F<span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;/^VERSION_ID=/{print $2}&#39;</span> /etc/os-release | cut -d <span style="color:#e6db74">&#34;\&#34;&#34;</span> -f 2<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>OS_VER_MAJOR<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>echo <span style="color:#e6db74">${</span>OS_VER<span style="color:#e6db74">}</span> | awk -F. <span style="color:#e6db74">&#39;{print $1}&#39;</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>PATCH_LEGACY_URL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://gist.githubusercontent.com/guiambros/f2bf07f1cc085f8f0b0a9e04c0a767b4/raw/73efac967c8fc9539802e7aa8eeba5492f8ae3b1/up-device-legacy.patch&#34;</span>
</span></span><span style="display:flex;"><span>PATCH_CURRENT_URL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://gist.githubusercontent.com/guiambros/f2bf07f1cc085f8f0b0a9e04c0a767b4/raw/73efac967c8fc9539802e7aa8eeba5492f8ae3b1/up-device-current-0.99.12p.patch&#34;</span>
</span></span><span style="display:flex;"><span>PATCH_NAME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;up-device.patch&#34;</span>
</span></span><span style="display:flex;"><span>PATCH_URL<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>PATCH_CURRENT_URL<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$OS<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;manjaro&#34;</span> <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;-- Manjaro detected; installing required libraries&#34;</span>
</span></span><span style="display:flex;"><span>    sudo pacman -S base-devel gtk-doc gobject-introspection git
</span></span><span style="display:flex;"><span>    PATH_UPOWERD<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/usr/lib&#34;</span>
</span></span><span style="display:flex;"><span>    PATH_UPOWER<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/usr/bin&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">elif</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$OS<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;ubuntu&#34;</span> <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;-- Ubuntu detected; installing required libraries&#34;</span>
</span></span><span style="display:flex;"><span>    sudo apt install -y git gtk-doc-tools gobject-introspection libgudev-1.0-dev libusb-1.0-0-dev autoconf libtool autopoint
</span></span><span style="display:flex;"><span>    PATH_UPOWER<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/usr/bin&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>OS_VER<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;20.10&#34;</span> <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        echo <span style="color:#e6db74">&#34;--- Ubuntu version 20.10 (Groovy Gorilla) detected&#34;</span>
</span></span><span style="display:flex;"><span>        PATH_UPOWERD<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/usr/libexec&#34;</span>
</span></span><span style="display:flex;"><span>        UPOWER_BRANCH<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UPOWER_0_99_11&#34;</span>
</span></span><span style="display:flex;"><span>        PATCH_URL<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>PATCH_LEGACY_URL<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">${</span>OS_VER_MAJOR<span style="color:#e6db74">}</span> -ge <span style="color:#ae81ff">21</span> <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        echo <span style="color:#e6db74">&#34;--- Ubuntu version 21 or above detected&#34;</span>
</span></span><span style="display:flex;"><span>        PATH_UPOWERD<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/usr/libexec&#34;</span>
</span></span><span style="display:flex;"><span>        UPOWER_BRANCH<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UPOWER_0_99_11&#34;</span>
</span></span><span style="display:flex;"><span>        PATCH_URL<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>PATCH_LEGACY_URL<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">${</span>OS_VER_MAJOR<span style="color:#e6db74">}</span> -le <span style="color:#ae81ff">20</span> <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        echo <span style="color:#e6db74">&#34;--- Ubuntu version 20.04 or lower detected&#34;</span>
</span></span><span style="display:flex;"><span>        PATH_UPOWERD<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/usr/lib/upower&#34;</span>
</span></span><span style="display:flex;"><span>        UPOWER_BRANCH<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UPOWER_0_99_11&#34;</span>
</span></span><span style="display:flex;"><span>        PATCH_URL<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>PATCH_LEGACY_URL<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;-- Unknown system; this script was only tested on ubuntu and manjaro.&#34;</span>
</span></span><span style="display:flex;"><span>    exit <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;------------------------------&#34;</span>
</span></span><span style="display:flex;"><span>echo
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Download upowerd source and selects the proper branch</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>cd ~
</span></span><span style="display:flex;"><span>git clone https://gitlab.freedesktop.org/upower/upower
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -z <span style="color:#e6db74">${</span>UPOWER_BRANCH<span style="color:#e6db74">}</span> <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;-- Using latest master branch (0.99.12 or above)&#34;</span>
</span></span><span style="display:flex;"><span>    cd upower/src
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;-- Using branch </span><span style="color:#e6db74">${</span>UPOWER_BRANCH<span style="color:#e6db74">}</span><span style="color:#e6db74"> (latest compatible with your distro)&#34;</span>
</span></span><span style="display:flex;"><span>    cd upower
</span></span><span style="display:flex;"><span>    git fetch --all --tags
</span></span><span style="display:flex;"><span>    git checkout tags/<span style="color:#e6db74">${</span>UPOWER_BRANCH<span style="color:#e6db74">}</span> -b <span style="color:#e6db74">${</span>UPOWER_BRANCH<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>    cd src
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Download and patch upowerd</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>wget <span style="color:#e6db74">${</span>PATCH_URL<span style="color:#e6db74">}</span> -O <span style="color:#e6db74">${</span>PATCH_NAME<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;-keyboard&#34;</span> <span style="color:#f92672">]</span> <span style="color:#f92672">||</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;--keyboard&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        SILENCE_KEYBOARD<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;+     if ((type == UP_DEVICE_KIND_MOUSE || type == UP_DEVICE_KIND_KEYBOARD) &amp;&amp; state == UP_DEVICE_STATE_DISCHARGING) {&#34;</span>
</span></span><span style="display:flex;"><span>        sed -i <span style="color:#e6db74">&#34;/UP_DEVICE_KIND_MOUSE/c</span><span style="color:#e6db74">${</span>SILENCE_KEYBOARD<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">${</span>PATCH_NAME<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>patch -F <span style="color:#ae81ff">1</span> &lt; <span style="color:#e6db74">${</span>PATCH_NAME<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Compile upowerd</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>cd ..
</span></span><span style="display:flex;"><span>./autogen.sh
</span></span><span style="display:flex;"><span>./configure
</span></span><span style="display:flex;"><span>make
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Install upowerd</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>CUR_DATETIME<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>date +%Y-%m-%d-%H%M%S<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>pushd .
</span></span><span style="display:flex;"><span>cd src/.libs
</span></span><span style="display:flex;"><span>strip upowerd
</span></span><span style="display:flex;"><span>sudo chown root.root upowerd
</span></span><span style="display:flex;"><span>sudo mv upowerd <span style="color:#e6db74">${</span>PATH_UPOWERD<span style="color:#e6db74">}</span>/upowerd-silent
</span></span><span style="display:flex;"><span>cd <span style="color:#e6db74">${</span>PATH_UPOWERD<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>sudo mv upowerd upowerd-original-<span style="color:#e6db74">${</span>CUR_DATETIME<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>sudo ln -s upowerd-silent upowerd
</span></span><span style="display:flex;"><span>popd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Install upower</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>pushd .
</span></span><span style="display:flex;"><span>cd tools/.libs
</span></span><span style="display:flex;"><span>strip upower
</span></span><span style="display:flex;"><span>sudo chown root.root upower
</span></span><span style="display:flex;"><span>sudo mv upower <span style="color:#e6db74">${</span>PATH_UPOWER<span style="color:#e6db74">}</span>/upower-silent
</span></span><span style="display:flex;"><span>cd <span style="color:#e6db74">${</span>PATH_UPOWER<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>sudo mv upower upower-original-<span style="color:#e6db74">${</span>CUR_DATETIME<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>sudo ln -s upower-silent upower
</span></span><span style="display:flex;"><span>popd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Restart upowerd</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>sudo systemctl restart upower
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Compare versions before/after (they will likely be different, but it depends on what your distro packages by default)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>echo
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;------------------------------&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;upower version BEFORE the update:&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>UPOWER_ORIG_VER<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;------------------------------&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;upower version AFTER the update:&#34;</span>
</span></span><span style="display:flex;"><span>upower --version
</span></span></code></pre></div><p>For convenience, <a href="https://gist.github.com/guiambros/166039459a8579638b57f7d135505ab1">here&rsquo;s the script</a>. You can run with:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wget -O - https://gist.githubusercontent.com/guiambros/166039459a8579638b57f7d135505ab1/raw/733b8dd3ac3280bb76f48ba3dc04655df6d69025/silent-mouse.sh | bash
</span></span></code></pre></div><p>UPDATE: by default this disables mouse notifications only. If you want to disable keyboard notifications as well, run the script  above passing <code>--keyboard</code> as a parameter. More specifically:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wget -O - https://gist.githubusercontent.com/guiambros/166039459a8579638b57f7d135505ab1/raw/733b8dd3ac3280bb76f48ba3dc04655df6d69025/silent-mouse.sh | bash -s -- --keyboard
</span></span></code></pre></div><p>Now enjoy your low battery spam-free system :) Let me know in the comments below if it works for you.</p>
<p><sup>1</sup><em>My old Performance MX uses a replaceable battery; the Performance MX 3 uses an internal non-replaceable battery that lasts even longer</em></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="https://wrgms.com/untitledcustomizing-vscode-themes/">
    <span class="title">« Prev</span>
    <br>
    <span>Customizing vscode themes</span>
  </a>
  <a class="next" href="https://wrgms.com/fixing-gnome-3-2x-hardcoded-superf1-shortcut/">
    <span class="title">Next »</span>
    <br>
    <span>Fixing Gnome 3.2x hardcoded &lt;Super&gt;&#43;&lt;F1&gt; shortcut</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Disable &#34;Mouse battery low&#34; spam notification on Ubuntu on x"
            href="https://x.com/intent/tweet/?text=Disable%20%22Mouse%20battery%20low%22%20spam%20notification%20on%20Ubuntu&amp;url=https%3a%2f%2fwrgms.com%2fdisable-mouse-battery-low-spam-notification%2f&amp;hashtags=">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Disable &#34;Mouse battery low&#34; spam notification on Ubuntu on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwrgms.com%2fdisable-mouse-battery-low-spam-notification%2f&amp;title=Disable%20%22Mouse%20battery%20low%22%20spam%20notification%20on%20Ubuntu&amp;summary=Disable%20%22Mouse%20battery%20low%22%20spam%20notification%20on%20Ubuntu&amp;source=https%3a%2f%2fwrgms.com%2fdisable-mouse-battery-low-spam-notification%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Disable &#34;Mouse battery low&#34; spam notification on Ubuntu on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Disable%20%22Mouse%20battery%20low%22%20spam%20notification%20on%20Ubuntu&u=https%3a%2f%2fwrgms.com%2fdisable-mouse-battery-low-spam-notification%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer><div id="disqus_thread"></div>


<br>
<div id="disqus_thread" class="disqus_link_showcomments">
    <a href="#" onclick="disqus(); return(false);">[ Show comments ]</a>
</div>
<script type="text/javascript">
    var disqus_loaded = false;

    function disqus() {
        window.disqus_config = function () {
            
            
            
        };

        if (!disqus_loaded)  {
            disqus_loaded = true;
            document.getElementById("disqus_thread").classList.remove('disqus_link_showcomments');
            (function() {
                if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
                    document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
                    return;
                }
                var d = document, s = d.createElement('script'); s.async = true;
                s.src = '//' + "wrgms" + '.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        }
    }
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</article>
    </main>
    
<footer class="footer">
        <span>© 2025 <a href='/about'>Gui Ambros</a></span> · 
        Built with 🖤 using <a href='https://gohugo.io/' rel='noopener noreferrer' target='_blank'>Hugo</a> + <a href='https://github.com/adityatelange/hugo-PaperMod/' rel='noopener' target='_blank'>PaperMod</a> · 

    
            <a href='/index.xml'>rss</a>

    
    
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
